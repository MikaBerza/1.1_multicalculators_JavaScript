!function(){"use strict";var e={};e.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),function(){var t;e.g.importScripts&&(t=e.g.location+"");var n=e.g.document;if(!t&&n&&(n.currentScript&&(t=n.currentScript.src),!t)){var i=n.getElementsByTagName("script");i.length&&(t=i[i.length-1].src)}if(!t)throw new Error("Automatic publicPath is not supported in this browser");t=t.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),e.p=t}(),e.p;let t,n,i,l,c,a,o=document.querySelector(".main__textarea"),d=document.querySelector(".main__button"),s=document.querySelector(".main__numbered-list"),r=document.querySelector(".main__input-search"),m=document.querySelector(".main__counter-indicator"),u=document.querySelector(".main__filtering-select"),h=[];function p(){let e=r.value.toUpperCase();for(let t=0;t<i.length;t++)l[t].textContent.toUpperCase().indexOf(e)>-1?i[t].style.display="":i[t].style.display="none"}function f(){if("Все"===u.value)for(let e=0;e<c.length;e++)i[e].style.display="";if("Выполненные"===u.value)for(let e=0;e<c.length;e++)!0===c[e].checked?i[e].style.display="":!1===c[e].checked&&(i[e].style.display="none");if("Невыполненные"===u.value)for(let e=0;e<c.length;e++)!1===c[e].checked?i[e].style.display="":!0===c[e].checked&&(i[e].style.display="none")}function _(){let e=document.querySelector(".main__counter-text-done"),t=document.querySelector(".main__counter-text-notDone"),n=0,i=0;for(let e of c)e.checked?n++:i++;e.textContent="выполненные - ".concat(n),t.textContent="невыполненные  - ".concat(i),m.value=n,m.low=(.2*c.length).toFixed(2),m.high=(.8*c.length).toFixed(2),m.max=c.length,m.optimum=(.9*c.length).toFixed(2),f()}function g(){this.remove(),_();let e=this.firstElementChild.firstElementChild.textContent;for(let t=0;t<h.length;t++)e===h[t]&&h.splice(t,1)}function y(){if(!1===t){o.value=this.firstElementChild.firstElementChild.textContent,d.textContent="Редактировать",t=!0,this.remove(),_();let e=this.firstElementChild.firstElementChild.textContent;for(let t=0;t<h.length;t++)e===h[t]&&h.splice(t,1)}}d.addEventListener("click",(function(){if(o.value.trim().length>0&&!1===function(){let e=h.includes(o.value.trim());return!1===e?h.push(o.value.trim()):console.log("Элемент уже существует в списке"),e}()){!function(){let e=document.createElement("li");e.classList.add("main__list-item");let t=document.createElement("div"),i=document.createElement("span"),l=document.createElement("input"),c=document.createElement("div"),a=document.createElement("span"),d=document.createElement("span");n=new Date(Date.now()).toLocaleDateString("en-GB",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit",year:"2-digit"});let r=document.createTextNode(n),m=document.createTextNode("x");t.classList.add("main__list-item-block1"),i.classList.add("main__list-item-text"),l.classList.add("main__list-item-checkbox"),c.classList.add("main__list-item-block2"),a.classList.add("main__list-item-date"),d.classList.add("main__list-item-close"),l.setAttribute("type","checkbox"),t.appendChild(i),t.appendChild(l),c.appendChild(a),c.appendChild(d),a.appendChild(r),d.appendChild(m),i.textContent="".concat(o.value),o.value="",e.appendChild(t),e.appendChild(c),s.appendChild(e)}(),l=document.getElementsByClassName("main__list-item-text"),i=document.getElementsByClassName("main__list-item"),c=document.getElementsByClassName("main__list-item-checkbox"),a=document.getElementsByClassName("main__list-item-close"),_(),d.textContent="Добавить",t=!1;for(let e=0;e<i.length;e++)!1===t&&i[e].addEventListener("dblclick",y),c[e].addEventListener("click",_),a[e].addEventListener("click",g.bind(i[e]));u.addEventListener("click",f),r.addEventListener("keyup",p)}}))}();